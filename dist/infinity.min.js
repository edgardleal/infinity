/**
 * Infinity Page Plugin v1.0.0
 * https://github.com/leuras/infinity
 *
 * Copyright (c) 2016 Fernando Pereira LibÃ³rio
 * Released under the MIT license
 *
 * Apr 06th, 2016
 */
(function(d){d.infinity=function(k){var l={url:"",dataType:"html",offset:0,limit:10,fail:function(){},success:function(){},done:function(){}},e,a=this;a.settings={};a.init=function(){a.settings=d.extend({},l,k);e=a.settings.offset};a.go=function(b){a.settings.offset=e;void 0!==b&&(a.settings.url=b);f();return this};a.more=function(){a.settings.offset+=a.settings.limit;f();return this};var f=function(){var b=a.settings.url+"/",b=b.replace(/(\/\/)$/,"/0/"),b=b+(a.settings.limit+1+"/"+a.settings.offset);
d.ajax({type:"GET",url:b,dataType:a.settings.dataType}).done(function(b,e,f){var g=!0;"json"===a.settings.dataType&&(d.isArray(b)&&b.length>a.settings.limit?(g=!0,b.pop()):g=!1);d.isFunction(a.settings.success)&&a.settings.success.call(this,b,e,f);!g&&d.isFunction(a.settings.done)&&a.settings.done.call(this)}).fail(function(b){d.isFunction(a.settings.error)&&a.settings.error.call(this,b,c,h)})};a.init();return a}})(jQuery);
